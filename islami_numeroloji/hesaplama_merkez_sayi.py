
merkez_sayi_aciklamalari = {
    "1" : """Sizin merkeziniz öne çıkmak, kendini ifade etmek üzere kuruludur ve hedeflerinize, hayallerinize yürümek sizin için en büyük ihtiyaçtır. Bunu yapmak için hem isminizden, hem doğum tarihinizden müthiş bir destek almışsınız. Özellikle kendinizi ifade edeceğiniz, konuşacağınız işlerde çok başarılı olursunuz. Bunun yanında ****** ismi ile hedefleri olan hayalleri olan bir insan olmuş ve bunda ısrarcı olmuşsunuz. İkili ilişkilerinizdeki sıkıntılar, sizin frekansınızı düşürse de, öngörülerinizi açarak, sezgilerinizi kullanarak ilerlemekten korkmayın ve yolunuzda devam edin. """,
    "2" : """Sizin merkeziniz ikili ilişkilerinizi düzelterek hayata merhaba demişsiniz. İlişkilerinizde olan sorunları ****** isminizden aldığınız enerji ile sezgilerinizi kullanarak aşarsınız. Önceden başınıza ne geleceğini tahmin ederek önlem alır ve böylelikle kendinizi auranızı korursunuz. Unutmayın sizin için aura korumak çok önemlidir. Çünkü her yaşadığınız ikili ilişkiler kökendeki problemi çözmek için size öğretici olarak gelmiştir. """,
    "3" : """Sizin merkeziniz hayatta ilk kez kendinizi tanıyarak, fark ederek başlamış ve içinize dönerek kendinizin ne olup ne olmadığını sorgulamak zorunda kalmışsınız. ****** ismini seçerek öne çıkmış, liderlik yapmış ve insanlar karşısında otorite kurmuşsunuz. Fakat işte bu ilişkiler yaşanırken ciddi imtihanlara tabi olmuş olabilirsiniz. Bunun en büyük nedeni öfkenize sahip olamayışınız ve aşırı derecede kendinize fikirlerinize değer verilmesini istediğinizden kaynaklanır. """,
    "4" : """Sizin ****** isminiz ilk olarak kalp çakranızı geliştirerek başlamış. Ve sıkıntılar sizin için dönüştürücü, değiştirici bir rol üstlenmişler. Birazcık sizde inat vari ve sabırsızlık, ani acil kararlar yaşatmış, imtihanlardan nasıl çıkacağınızı, nasıl tedbir alacağınızı kısaca öğretmeye çalışmış. Ama elbette imtihanlar bize bir mesajdır. Bu mesajlardan gerekli cevabı aldığımızda dönüşürüz. Yeni bir hayatla yeniden başlarız. Öne çıkmayı lider olmayı, fikirlerinizle, yaşanmışlıklarınızla hayata ben de varım demeyi istiyorsunuz ve evelallah bunu başaracaksınız. Böylelikle kendinizi tanımaya ve içinize dönmeye, kendinizi ifade etmeye çalışacaksınız. """,
    "5" : """Siz ****** isminizden aldığınız enerji ile ilk olarak ikili ilişkilerinizdeki sıkıntıları gidererek, depresyon vari olaylar yaşıyorsanız bunları çözümleyerek, olaylardaki mesajları çözerek, öne çıkacak kendinizi çok güzel ifade edeceksiniz. Bunun için depresif hallerden çıkmalısınız. Sizin hedefleriniz hayalleriniz vardır ve bunlara mutlaka ulaşmalısınız. Bunlara ulaşırken ileri görüşlü, sezgileri kuvvetli bir insan olmak için mutlaka musiki sanat ile uğraşmanızı tavsiye ederim. """,
    "6" : """Sizin merkeziniz ilk olarak sorumluluk alarak başlamıştır, özellikle çevrenizin sorumluluğunu almak zorunda kalmış olabilirsiniz. Ya da hayatın sizin üzerinize sorumluluk olarak yüklediği birçok şey olabilir. Bunun asıl nedeni sizi sorumluluklarda koşturarak, size belli imtihanlar yaşatarak, sezgilerinizi fark etmenizi sağlamıştır. Siz önsezili bir insansınız. Bunları daha iyi kullanmanız için hayat sizi yönlendirmiştir. Özellikle ikili ilişkilerde, ortaklıklarınızda olan sıkıntılara karşı sizin çözmeniz ancak ancak sezgilerinizle, önceden tahmin ederek olacaktır. Ayrıca ****** ismi ile imtihanlarınıza çalışacak, sınır koymayı öğreneceksiniz ve imtihanlarınızı dönüştürerek onlardan size yeni yollar açılacaktır. """,
    "7" : """Sizin merkeziniz ilk olarak derin düşünmeyi analitik etmeyi öğrenip, maneviyatı kuvvetlendirmek için çalışmanızı ifade eder. İlişkilerinizdeki arayışlarınızı çözmek ilişkilerde doymayı öğrenmek sizin için oldukça önemlidir. Bunun tek yolu yalnızca tahkiki imandan geçer. Tahkiki iman neye ve niçin iman ettiğini bilmek taklitten öte bir inancı anlatır. """,
    "8" : """Sizin merkeziniz ilk olarak auranızı korumak, insanlarla aranızdaki ilişkileri düzelterek, sınırlarınızı çizmek üzere kurulmuştur. Bolluk bereket için öncelikle negatif ortamlar ve negatif insanlardan uzaklaşılması gerektiği bilinmelidir. Ayrıca sezgilerinizi kuvvetlendirmek, ön sezili olmak, sorumluluklarınızı fark etmektir. Bu halinizle ikili ilişkilerinizi iyileştirmeye çalışırsınız. Ve öne çıkarak kendinizi ifade eder düşüncelerinizi anlatırsınız. Sınırları çizmeden değişen hiçbir şey olmayacaktır. """,
    "9" : """Sizin merkeziniz ilk olarak auranızı korumak, insanlarla aranızdaki ilişkileri düzelterek, sınırlarınızı çizmek üzere kurulmuştur. Bolluk bereket için öncelikle negatif ortamlar ve negatif insanlardan uzaklaşılması gerektiği bilinmelidir. Ayrıca sezgilerinizi kuvvetlendirmek, ön sezili olmak, sorumluluklarınızı fark etmektir. Bu halinizle ikili ilişkilerinizi iyileştirmeye çalışırsınız. Ve öne çıkarak kendinizi ifade eder düşüncelerinizi anlatırsınız. Sınırları çizmeden değişen hiçbir şey olmayacaktır. """,
    "11" : """Ve siz 11 insanısınız. Yani siz İndigosunuz. İndigo olmak demek sizin düşüncelerinize uymayan, prensiplerinize aykırı olan her şeyi değiştirecek güce sahip demektir. O halde bu analiz vesilesiyle kendi kendinizi iyi etmek için var gücünüzle çalışın. Öne çıkarak güzel işler yapın, liderlik yapın, otorite kurun ve mutlaka ikili ilişkilerinizdeki sıkıntıları iyi etmeye çalışın. """,
    "19" : """****** isminizde 19 enerjisi vardır. Bu 19 sayısı kişide imtihan ile dönüşmeyi anlatır. Sıkıntıları fark edip olayın altındaki mesajları çözmenizi anlatır. Enerjinizi fark edin. Olaylardan ders çıkarıp iyileşmeye niyet edin ve daha sonra yaralı bir şifalı gibi insanlığın hayrına çalışın!..Ve siz 11 insanısınız. Yani siz İndigosunuz. İndigo olmak demek sizin düşüncelerinize uymayan, prensiplerinize aykırı olan her şeyi değiştirecek güce sahip demektir. O halde bu analiz vesilesiyle kendi kendinizi iyi etmek için var gücünüzle çalışın. Öne çıkarak güzel işler yapın, liderlik yapın, otorite kurun ve mutlaka ikili ilişkilerinizdeki sıkıntıları iyi etmeye çalışın. """,
    "22" : """Ayrıca ****** isminizde 22 enerjisi vardır. İmtihanlardan ders çıkarmayı, elinizde avucunuzda ne varsa vermeyi, bilgilerinizi öğretmeyi 22 enerjisi içerir. Kıymetini bilirseniz ve kendinizi iyileştirirseniz 22 büyük bir enerjidir. O halde bu analiz vesilesiyle kendi kendinizi iyi etmek için var gücünüzle çalışın. Öne çıkarak güzel işler yapın, liderlik yapın, otorite kurun ve mutlaka ikili ilişkilerinizdeki sıkıntıları iyi etmeye çalışın. """,
    "33" : """Sizin ******  isminizde 33 enerjisi vardır ki 33 enerjisi ciddi anlamda sorumlulukları, olgunlaşmayı, hedeflerine gitmeyi, duygularını yönetmeyi içerir. Siz hedeflerinize gidebilen, otorite kurabilen bir insansınız. Fakat ağır sorumluluklarınız olduğu için belki babanızla olan ilişkinizden ötürü imtihanlarınız biraz zor olmuştur. Sizden istenen nefsinizi tezkiye etmek, terbiye etmek, kök çakranızın blokesini iyileştirmek, olanı olduğu gibi kabul edip aile köklerinize tutunmak, ailenizi olduğu gibi kabul etmek ve çocukluğunuzu iyileştirmeye çalışmaktır. Böylelikle hayata daha sağlam adım atmaktır. 33 enerjisi büyük bir enerjidir. Sizin nefsinizi tezkiye ve terbiye etmeniz oldukça önemlidir. """,
}

chakra_values = {
    'A': 1, 'S': 1, 'Ş': 1, 'J': 1,
    'B': 2, 'T': 2, 'K': 2,
    'C': 3, 'Ç': 3, 'L': 3, 'U': 3, 'Ü': 3,
    'D': 4, 'M': 4, 'V': 4,
    'E': 5, 'N': 5,
    'F': 6, 'O': 6, 'X': 6, 'Ö': 6, 'Q': 6,
    'P': 7, 'Y': 7, 'G': 7, 'Ğ': 7,
    'H': 8, 'Z': 8,
    'I': 9, 'İ': 9, 'R': 9
}
sesli_harfler = {'A', 'E', 'I', 'İ', 'O', 'Ö', 'U', 'Ü'}


def ebced_toplama_merkez_sayi(sayi):
    """
    Bu fonksiyon, verilen sayının rakamlarını toplar ve tek hane olana kadar bu işlemi tekrarlar.
    Özel sayılar (11, 19, 22, 33) korunur.
    """
    if sayi in [11, 19, 22, 33]:
        return str(sayi)
    
    while sayi >= 10:
        if sayi in [11, 19, 22, 33]:
            return str(sayi)
        sayi = sum(int(digit) for digit in str(sayi))
    
    return str(sayi)


def merkez_sayi_bulma(isim_soyisim):
    """
    Bu fonksiyon, verilen isim soyisimin her ismini ayrı ayrı hesaplayarak
    sesli harflerinin rakamsal karşılığını bulup toplar.
    
    Özel kurallar:
    - 11, 22, 33 sayıları diğer sayılarla toplanmaz, kendi aralarında toplanabilir
    - 19 sayısı 11 + 8 olarak ayrılır
    - Normal sayılar (1-9) kendi aralarında toplanır
    """
    # İsmi boşluklara göre ayır
    isimler = isim_soyisim.strip().split()
    
    if not isimler:
        return "0", "0"
    
    isim_sonuclari = []
    ozel_sayilar = []  # 11, 22, 33 sayıları
    normal_sayilar = []  # 1-9 arası sayılar
    isim_ozel_sayilar = []  # Hangi isimden geldiği bilgisi ile
    isim_normal_sayilar = []  # Hangi isimden geldiği bilgisi ile
    
    # Her isim için ayrı hesaplama yap
    for isim in isimler:
        isim_sum = 0
        for char in isim.upper():
            if char in sesli_harfler and char in chakra_values:
                isim_sum += chakra_values[char]
        
        # İsim sonucunu hesapla
        isim_sonucu = ebced_toplama_merkez_sayi(isim_sum)
        isim_sonuclari.append(f"{isim} = {isim_sonucu}")
        
        # Sayıyı kategorilere ayır
        if isim_sonucu in ["11", "22", "33"]:
            ozel_sayilar.append(int(isim_sonucu))
            isim_ozel_sayilar.append((isim, isim_sonucu))
        elif isim_sonucu == "19":
            # 19'u 11 + 8 olarak ayır
            ozel_sayilar.append(11)
            normal_sayilar.append(8)
            isim_ozel_sayilar.append((isim, "11"))
            isim_normal_sayilar.append((isim, "8"))
        else:
            normal_sayilar.append(int(isim_sonucu))
            isim_normal_sayilar.append((isim, isim_sonucu))
    
    # Sonuçları hesapla
    sonuc_metni = ""
    merkez_sayi = ""
    
    # Özel sayıları topla (11, 22, 33)
    if ozel_sayilar:
        ozel_toplam = sum(ozel_sayilar)
        ozel_toplam_str = ebced_toplama_merkez_sayi(ozel_toplam)
        
        # Özel sayıların hangi isimlerden geldiğini bul
        ozel_isimler = [isim for isim, _ in isim_ozel_sayilar]
        ozel_isim_str = " ".join(ozel_isimler)
        
        # Açıklamayı al ve ****** yerine isimleri koy
        if ozel_toplam_str in merkez_sayi_aciklamalari:
            aciklama = merkez_sayi_aciklamalari[ozel_toplam_str]
            aciklama = aciklama.replace("******", ozel_isim_str)
            sonuc_metni += f"({ozel_toplam_str}): {aciklama}\n\n"
            merkez_sayi += ozel_toplam_str
    
    # Normal sayıları topla (1-9)
    if normal_sayilar:
        normal_toplam = sum(normal_sayilar)
        normal_toplam_str = ebced_toplama_merkez_sayi(normal_toplam)
        
        # Normal sayıların hangi isimlerden geldiğini bul
        normal_isimler = [isim for isim, _ in isim_normal_sayilar]
        normal_isim_str = " ".join(normal_isimler)
        
        # Açıklamayı al ve ****** yerine isimleri koy
        if normal_toplam_str in merkez_sayi_aciklamalari:
            aciklama = merkez_sayi_aciklamalari[normal_toplam_str]
            aciklama = aciklama.replace("******", normal_isim_str)
            sonuc_metni += f"({normal_toplam_str}): {aciklama}\n\n"
            if merkez_sayi:
                merkez_sayi += " + " + normal_toplam_str
            else:
                merkez_sayi = normal_toplam_str
    
    # Detay bilgisi
    detay = " ".join(isim_sonuclari)
    
    return f"{detay}\n\n{sonuc_metni.strip()}", merkez_sayi