
merkez_sayi_aciklamalari = {
    "1" : """Sizin merkeziniz öne çıkmak, kendini ifade etmek üzere kuruludur ve hedeflerinize, hayallerinize yürümek sizin için en büyük ihtiyaçtır. Bunu yapmak için hem isminizden, hem doğum tarihinizden müthiş bir destek almışsınız. Özellikle kendinizi ifade edeceğiniz, konuşacağınız işlerde çok başarılı olursunuz. Bunun yanında ****** ismi ile hedefleri olan hayalleri olan bir insan olmuş ve bunda ısrarcı olmuşsunuz. İkili ilişkilerinizdeki sıkıntılar, sizin frekansınızı düşürse de, öngörülerinizi açarak, sezgilerinizi kullanarak ilerlemekten korkmayın ve yolunuzda devam edin. """,
    "2" : """Sizin merkeziniz ikili ilişkilerinizi düzelterek hayata merhaba demişsiniz. İlişkilerinizde olan sorunları ****** isminizden aldığınız enerji ile sezgilerinizi kullanarak aşarsınız. Önceden başınıza ne geleceğini tahmin ederek önlem alır ve böylelikle kendinizi auranızı korursunuz. Unutmayın sizin için aura korumak çok önemlidir. Çünkü her yaşadığınız ikili ilişkiler kökendeki problemi çözmek için size öğretici olarak gelmiştir. """,
    "3" : """Sizin merkeziniz hayatta ilk kez kendinizi tanıyarak, fark ederek başlamış ve içinize dönerek kendinizin ne olup ne olmadığını sorgulamak zorunda kalmışsınız. ****** ismini seçerek öne çıkmış, liderlik yapmış ve insanlar karşısında otorite kurmuşsunuz. Fakat işte bu ilişkiler yaşanırken ciddi imtihanlara tabi olmuş olabilirsiniz. Bunun en büyük nedeni öfkenize sahip olamayışınız ve aşırı derecede kendinize fikirlerinize değer verilmesini istediğinizden kaynaklanır. """,
    "4" : """Sizin ****** isminiz ilk olarak kalp çakranızı geliştirerek başlamış. Ve sıkıntılar sizin için dönüştürücü, değiştirici bir rol üstlenmişler. Birazcık sizde inat vari ve sabırsızlık, ani acil kararlar yaşatmış, imtihanlardan nasıl çıkacağınızı, nasıl tedbir alacağınızı kısaca öğretmeye çalışmış. Ama elbette imtihanlar bize bir mesajdır. Bu mesajlardan gerekli cevabı aldığımızda dönüşürüz. Yeni bir hayatla yeniden başlarız. Öne çıkmayı lider olmayı, fikirlerinizle, yaşanmışlıklarınızla hayata ben de varım demeyi istiyorsunuz ve evelallah bunu başaracaksınız. Böylelikle kendinizi tanımaya ve içinize dönmeye, kendinizi ifade etmeye çalışacaksınız. """,
    "5" : """Siz ****** isminizden aldığınız enerji ile ilk olarak ikili ilişkilerinizdeki sıkıntıları gidererek, depresyon vari olaylar yaşıyorsanız bunları çözümleyerek, olaylardaki mesajları çözerek, öne çıkacak kendinizi çok güzel ifade edeceksiniz. Bunun için depresif hallerden çıkmalısınız. Sizin hedefleriniz hayalleriniz vardır ve bunlara mutlaka ulaşmalısınız. Bunlara ulaşırken ileri görüşlü, sezgileri kuvvetli bir insan olmak için mutlaka musiki sanat ile uğraşmanızı tavsiye ederim. """,
    "6" : """Sizin merkeziniz ilk olarak sorumluluk alarak başlamıştır, özellikle çevrenizin sorumluluğunu almak zorunda kalmış olabilirsiniz. Ya da hayatın sizin üzerinize sorumluluk olarak yüklediği birçok şey olabilir. Bunun asıl nedeni sizi sorumluluklarda koşturarak, size belli imtihanlar yaşatarak, sezgilerinizi fark etmenizi sağlamıştır. Siz önsezili bir insansınız. Bunları daha iyi kullanmanız için hayat sizi yönlendirmiştir. Özellikle ikili ilişkilerde, ortaklıklarınızda olan sıkıntılara karşı sizin çözmeniz ancak ancak sezgilerinizle, önceden tahmin ederek olacaktır. Ayrıca ****** ismi ile imtihanlarınıza çalışacak, sınır koymayı öğreneceksiniz ve imtihanlarınızı dönüştürerek onlardan size yeni yollar açılacaktır. """,
    "7" : """Sizin merkeziniz ilk olarak derin düşünmeyi analitik etmeyi öğrenip, maneviyatı kuvvetlendirmek için çalışmanızı ifade eder. İlişkilerinizdeki arayışlarınızı çözmek ilişkilerde doymayı öğrenmek sizin için oldukça önemlidir. Bunun tek yolu yalnızca tahkiki imandan geçer. Tahkiki iman neye ve niçin iman ettiğini bilmek taklitten öte bir inancı anlatır. """,
    "8" : """Sizin merkeziniz ilk olarak auranızı korumak, insanlarla aranızdaki ilişkileri düzelterek, sınırlarınızı çizmek üzere kurulmuştur. Bolluk bereket için öncelikle negatif ortamlar ve negatif insanlardan uzaklaşılması gerektiği bilinmelidir. Ayrıca sezgilerinizi kuvvetlendirmek, ön sezili olmak, sorumluluklarınızı fark etmektir. Bu halinizle ikili ilişkilerinizi iyileştirmeye çalışırsınız. Ve öne çıkarak kendinizi ifade eder düşüncelerinizi anlatırsınız. Sınırları çizmeden değişen hiçbir şey olmayacaktır. """,
    "9" : """Sizin merkeziniz ilk olarak auranızı korumak, insanlarla aranızdaki ilişkileri düzelterek, sınırlarınızı çizmek üzere kurulmuştur. Bolluk bereket için öncelikle negatif ortamlar ve negatif insanlardan uzaklaşılması gerektiği bilinmelidir. Ayrıca sezgilerinizi kuvvetlendirmek, ön sezili olmak, sorumluluklarınızı fark etmektir. Bu halinizle ikili ilişkilerinizi iyileştirmeye çalışırsınız. Ve öne çıkarak kendinizi ifade eder düşüncelerinizi anlatırsınız. Sınırları çizmeden değişen hiçbir şey olmayacaktır. """,
    "11" : """Siz 11 insanısınız. Yani siz İndigosunuz. İndigo olmak demek sizin düşüncelerinize uymayan, prensiplerinize aykırı olan her şeyi değiştirecek güce sahip demektir. O halde bu analiz vesilesiyle kendi kendinizi iyi etmek için var gücünüzle çalışın. Öne çıkarak güzel işler yapın, liderlik yapın, otorite kurun ve mutlaka ikili ilişkilerinizdeki sıkıntıları iyi etmeye çalışın. """,
    "19" : """****** isminizde 19 enerjisi vardır. Bu 19 sayısı kişide imtihan ile dönüşmeyi anlatır. Sıkıntıları fark edip olayın altındaki mesajları çözmenizi anlatır. Enerjinizi fark edin. Olaylardan ders çıkarıp iyileşmeye niyet edin ve daha sonra yaralı bir şifalı gibi insanlığın hayrına çalışın!..Ve siz 11 insanısınız. Yani siz İndigosunuz. İndigo olmak demek sizin düşüncelerinize uymayan, prensiplerinize aykırı olan her şeyi değiştirecek güce sahip demektir. O halde bu analiz vesilesiyle kendi kendinizi iyi etmek için var gücünüzle çalışın. Öne çıkarak güzel işler yapın, liderlik yapın, otorite kurun ve mutlaka ikili ilişkilerinizdeki sıkıntıları iyi etmeye çalışın. """,
    "22" : """Ayrıca ****** isminizde 22 enerjisi vardır. İmtihanlardan ders çıkarmayı, elinizde avucunuzda ne varsa vermeyi, bilgilerinizi öğretmeyi 22 enerjisi içerir. Kıymetini bilirseniz ve kendinizi iyileştirirseniz 22 büyük bir enerjidir. O halde bu analiz vesilesiyle kendi kendinizi iyi etmek için var gücünüzle çalışın. Öne çıkarak güzel işler yapın, liderlik yapın, otorite kurun ve mutlaka ikili ilişkilerinizdeki sıkıntıları iyi etmeye çalışın. """,
    "33" : """Sizin ******  isminizde 33 enerjisi vardır ki 33 enerjisi ciddi anlamda sorumlulukları, olgunlaşmayı, hedeflerine gitmeyi, duygularını yönetmeyi içerir. Siz hedeflerinize gidebilen, otorite kurabilen bir insansınız. Fakat ağır sorumluluklarınız olduğu için belki babanızla olan ilişkinizden ötürü imtihanlarınız biraz zor olmuştur. Sizden istenen nefsinizi tezkiye etmek, terbiye etmek, kök çakranızın blokesini iyileştirmek, olanı olduğu gibi kabul edip aile köklerinize tutunmak, ailenizi olduğu gibi kabul etmek ve çocukluğunuzu iyileştirmeye çalışmaktır. Böylelikle hayata daha sağlam adım atmaktır. 33 enerjisi büyük bir enerjidir. Sizin nefsinizi tezkiye ve terbiye etmeniz oldukça önemlidir. """,
}

chakra_values = {
    'A': 1, 'S': 1, 'Ş': 1, 'J': 1,
    'B': 2, 'T': 2, 'K': 2,
    'C': 3, 'Ç': 3, 'L': 3, 'U': 3, 'Ü': 3,
    'D': 4, 'M': 4, 'V': 4,
    'E': 5, 'N': 5,
    'F': 6, 'O': 6, 'X': 6, 'Ö': 6, 'Q': 6,
    'P': 7, 'Y': 7, 'G': 7, 'Ğ': 7,
    'H': 8, 'Z': 8,
    'I': 9, 'İ': 9, 'R': 9
}
sesli_harfler = {'A', 'E', 'I', 'İ', 'O', 'Ö', 'U', 'Ü'}


def ebced_toplama_merkez_sayi(sayi):
    """
    Bu fonksiyon, verilen sayının rakamlarını toplar ve tek hane olana kadar bu işlemi tekrarlar.
    Özel sayılar (11, 19, 22, 33) korunur.
    """
    if sayi in [11, 19, 22, 33]:
        return str(sayi)
    
    while sayi >= 10:
        if sayi in [11, 19, 22, 33]:
            return str(sayi)
        sayi = sum(int(digit) for digit in str(sayi))
    
    return str(sayi)


def isim_hesaplama(isim):
    """
    Tek bir isim için sesli harflerin toplamını hesaplar
    """
    total_sum = 0
    for char in isim.upper():
        if char in sesli_harfler and char in chakra_values:
            total_sum += chakra_values[char]
    
    # Eğer toplam 0 ise, 1 olarak kabul et
    if total_sum == 0:
        return "1"
    
    # Özel sayı kontrolü
    if total_sum in [11, 19, 22, 33]:
        return str(total_sum)
    
    # Normal sayı ise ebced_toplama_merkez_sayi ile işle
    return ebced_toplama_merkez_sayi(total_sum)


def ozel_sayi_kombinasyonu_bul(sayilar, isim_eslesmesi):
    """
    Özel sayıların kombinasyonlarını kontrol eder ve toplanabilir olanları bulur
    """
    from itertools import combinations
    
    ozel_sayilar = [11, 19, 22, 33]
    ozel_sayilar_str = []
    
    for sayi_str in sayilar:
        sayi = int(sayi_str)
        if sayi in ozel_sayilar:
            ozel_sayilar_str.append(sayi_str)
    
    # Özel sayıları 2'li gruplar halinde topla
    for combo in combinations(ozel_sayilar_str, 2):
        sayi1_str, sayi2_str = combo
        sayi1 = int(sayi1_str)
        sayi2 = int(sayi2_str)
        
        # 19 özel durumu: 19 + 11 = 22 + 8, 19 + 22 = 33 + 8, 19 + 33 = 44 (normal)
        if sayi1 == 19 or sayi2 == 19:
            if sayi1 == 19:
                diger_sayi = sayi2
            else:
                diger_sayi = sayi1
                
            if diger_sayi in [11, 22, 33]:
                # 19 + 11 = 22 + 8, 19 + 22 = 33 + 8
                if diger_sayi == 11:
                    toplam = 22
                    kalan = 8
                elif diger_sayi == 22:
                    toplam = 33
                    kalan = 8
                else:  # 33
                    toplam = 52  # Normal toplama
                    kalan = None
                
                if kalan is not None:
                    # 19 ve diğer sayıyı kaldır, toplam ve kalan ekle
                    kullanilan_isimler = isim_eslesmesi[sayi1_str] + isim_eslesmesi[sayi2_str]
                    return True, [sayi1_str, sayi2_str], toplam, kalan, kullanilan_isimler
        else:
            # Normal özel sayı toplama
            toplam = sayi1 + sayi2
            if toplam in ozel_sayilar:
                kullanilan_isimler = isim_eslesmesi[sayi1_str] + isim_eslesmesi[sayi2_str]
                return True, [sayi1_str, sayi2_str], toplam, None, kullanilan_isimler
    
    return False, None, None, None, None


def normal_sayi_kombinasyonu_bul(sayilar, isim_eslesmesi):
    """
    Normal sayıların kombinasyonlarını kontrol eder ve özel sayı oluşturanları bulur
    """
    from itertools import combinations
    
    ozel_sayilar = [11, 19, 22, 33]
    normal_sayilar = []
    
    for sayi_str in sayilar:
        sayi = int(sayi_str)
        if sayi not in ozel_sayilar:
            normal_sayilar.append(sayi_str)
    
    # Normal sayıları 2'li gruplar halinde topla
    for combo in combinations(normal_sayilar, 2):
        sayi1_str, sayi2_str = combo
        sayi1 = int(sayi1_str)
        sayi2 = int(sayi2_str)
        toplam = sayi1 + sayi2
        
        if toplam in ozel_sayilar:
            kullanilan_isimler = isim_eslesmesi[sayi1_str] + isim_eslesmesi[sayi2_str]
            return True, [sayi1_str, sayi2_str], toplam, None, kullanilan_isimler
    
    return False, None, None, None, None


def istisna_kontrol(sayilar, isim_eslesmesi):
    """
    İstisna durumları kontrol eder:
    - 19 + 3 = 22 (19 yakınında 3 varsa)
    - 11 + 8 = 19 (11 yakınında 8 varsa ve başka 11 yoksa)
    """
    # 19 + 3 = 22 kontrolü
    if "19" in sayilar and "3" in sayilar:
        kullanilan_isimler = isim_eslesmesi["19"] + isim_eslesmesi["3"]
        return True, ["19", "3"], 22, None, kullanilan_isimler
    
    # 11 + 8 = 19 kontrolü (başka 11 yoksa)
    if "11" in sayilar and "8" in sayilar:
        on_bir_sayisi = sayilar.count("11")
        if on_bir_sayisi == 1:  # Sadece 1 tane 11 varsa
            kullanilan_isimler = isim_eslesmesi["11"] + isim_eslesmesi["8"]
            return True, ["11", "8"], 19, None, kullanilan_isimler
    
    return False, None, None, None, None


def merkez_sayi_bulma(isim_soyisim):
    """
    Merkez sayı hesaplama fonksiyonu.
    
    Her isim için ayrı hesaplama yapılır. Özel sayılar (11, 19, 22, 33) kendi aralarında toplanabilir.
    19 diğerleriyle toplanırken 11 + 8 olarak ayrılır.
    
    Algoritma:
    1. Her isim için ayrı hesaplama yapılır
    2. While döngüsünde toplanacak şey kalmayana kadar devam eder
    3. Her döngüde öncelik sırası:
       - Normal sayı kombinasyonları (özel sayı oluşturan)
       - İstisna durumlar (19+3=22, 11+8=19)
       - Özel sayı kombinasyonları
    4. 19'un özel özellikleri (19+11=22+8, 19+22=33+8)
    5. Hiçbir metin birden fazla kez yazılmayacak
    """
    # İsmi boşluklara göre ayır
    isimler = [isim.strip() for isim in isim_soyisim.split() if isim.strip()]
    
    if not isimler:
        return "İsim bulunamadı", ""
    
    # Her isim için hesaplama yap
    isim_sayilari = []
    isim_sayilari_str = []
    isim_eslesmesi = {}  # Hangi sayının hangi isimden geldiğini tut
    
    for isim in isimler:
        sayi = isim_hesaplama(isim)
        isim_sayilari.append(int(sayi))
        isim_sayilari_str.append(sayi)
        isim_eslesmesi[sayi] = [isim]
    
    #print(f"İsim sayıları: {isim_sayilari_str}")  # Debug için
    
    # 19 kontrolü - hesaplamanın herhangi bir yerinde 19 var mı?
    on_dokuz_var = "19" in isim_sayilari_str
    on_dokuz_isimleri = []
    if on_dokuz_var:
        for i, sayi in enumerate(isim_sayilari_str):
            if sayi == "19":
                on_dokuz_isimleri.append(isimler[i])
    
    # While döngüsü - toplanacak şey kalmayana kadar devam et
    kalan_sayilar = isim_sayilari_str.copy()
    kalan_isimler = isim_eslesmesi.copy()
    dongu_sayisi = 1
    sonuc = ""
    
    while len(kalan_sayilar) > 1:
        #sonuc += f"--- DÖNGÜ {dongu_sayisi} ---\n"
        #sonuc += f"Kalan sayılar: {', '.join(kalan_sayilar)}\n"
        
        # 1. Öncelik: Normal sayı kombinasyonları (özel sayı oluşturan)
        normal_kombinasyon, normal_sayilar, normal_sonuc, normal_kalan, normal_isimler = normal_sayi_kombinasyonu_bul(kalan_sayilar, kalan_isimler)
        
        if normal_kombinasyon:
            #sonuc += f"Normal sayı kombinasyonu: {' + '.join(normal_sayilar)} = {normal_sonuc}\n"
            #sonuc += f"Kullanılan isimler: {', '.join(normal_isimler)}\n\n"
            
            # Kullanılan sayıları kalan sayılardan çıkar
            for sayi in normal_sayilar:
                if sayi in kalan_sayilar:
                    kalan_sayilar.remove(sayi)
                if sayi in kalan_isimler:
                    del kalan_isimler[sayi]
            
            # Sonucu ekle
            if str(normal_sonuc) not in kalan_isimler:
                kalan_isimler[str(normal_sonuc)] = []
            kalan_isimler[str(normal_sonuc)].extend(normal_isimler)
            kalan_sayilar.append(str(normal_sonuc))
            
            dongu_sayisi += 1
            continue
        
        # 1.5. Öncelik: Normal sayıları topla (özel sayı oluşturmasa bile)
        ozel_sayilar = [11, 19, 22, 33]
        normal_sayilar = []
        
        for sayi_str in kalan_sayilar:
            sayi = int(sayi_str)
            if sayi not in ozel_sayilar:
                normal_sayilar.append(sayi_str)
        
        if len(normal_sayilar) >= 2:
            # En küçük iki normal sayıyı topla
            normal_sayilar.sort(key=lambda x: int(x))
            sayi1_str = normal_sayilar[0]
            sayi2_str = normal_sayilar[1]
            sayi1 = int(sayi1_str)
            sayi2 = int(sayi2_str)
            toplam = sayi1 + sayi2
            
            # İsimleri sakla (silmeden önce)
            isimler1 = kalan_isimler.get(sayi1_str, [])
            isimler2 = kalan_isimler.get(sayi2_str, [])
            tum_isimler = isimler1 + isimler2
            
            #sonuc += f"Normal sayı toplama: {sayi1} + {sayi2} = {toplam}\n"
            #sonuc += f"Kullanılan isimler: {', '.join(tum_isimler)}\n\n"
            
            # Kullanılan sayıları kalan sayılardan çıkar
            kalan_sayilar.remove(sayi1_str)
            kalan_sayilar.remove(sayi2_str)
            del kalan_isimler[sayi1_str]
            del kalan_isimler[sayi2_str]
            
            # Sonucu ekle
            if str(toplam) not in kalan_isimler:
                kalan_isimler[str(toplam)] = []
            kalan_isimler[str(toplam)].extend(tum_isimler)
            kalan_sayilar.append( str(ebced_toplama_merkez_sayi(toplam)))
            
            dongu_sayisi += 1
            continue
        
        # 2. Öncelik: İstisna durumlar
        istisna_bulundu, istisna_sayilar, istisna_sonuc, istisna_kalan, istisna_isimler = istisna_kontrol(kalan_sayilar, kalan_isimler)
        
        if istisna_bulundu:
            #sonuc += f"İstisna toplama: {' + '.join(istisna_sayilar)} = {istisna_sonuc}\n"
            #sonuc += f"Kullanılan isimler: {', '.join(istisna_isimler)}\n\n"
            
            # Kullanılan sayıları kalan sayılardan çıkar
            for sayi in istisna_sayilar:
                if sayi in kalan_sayilar:
                    kalan_sayilar.remove(sayi)
                if sayi in kalan_isimler:
                    del kalan_isimler[sayi]
            
            # Sonucu ekle
            if str(istisna_sonuc) not in kalan_isimler:
                kalan_isimler[str(istisna_sonuc)] = []
            kalan_isimler[str(istisna_sonuc)].extend(istisna_isimler)
            kalan_sayilar.append(str(istisna_sonuc))
            
            # Kalan varsa ekle (19+11=22+8 gibi durumlar için)
            if istisna_kalan is not None:
                if str(istisna_kalan) not in kalan_isimler:
                    kalan_isimler[str(istisna_kalan)] = []
                kalan_isimler[str(istisna_kalan)].extend(istisna_isimler)
                kalan_sayilar.append(str(istisna_kalan))
            
            dongu_sayisi += 1
            continue
        
        # 3. Özel sayı kombinasyonları
        ozel_kombinasyon, ozel_sayilar, ozel_sonuc, ozel_kalan, ozel_isimler = ozel_sayi_kombinasyonu_bul(kalan_sayilar, kalan_isimler)
        
        if ozel_kombinasyon:
            #sonuc += f"Özel sayı kombinasyonu: {' + '.join(ozel_sayilar)} = {ozel_sonuc}\n"
            #sonuc += f"Kullanılan isimler: {', '.join(ozel_isimler)}\n\n"
            
            # Kullanılan sayıları kalan sayılardan çıkar
            for sayi in ozel_sayilar:
                if sayi in kalan_sayilar:
                    kalan_sayilar.remove(sayi)
                if sayi in kalan_isimler:
                    del kalan_isimler[sayi]
            
            # Sonucu ekle
            if str(ozel_sonuc) not in kalan_isimler:
                kalan_isimler[str(ozel_sonuc)] = []
            kalan_isimler[str(ozel_sonuc)].extend(ozel_isimler)
            kalan_sayilar.append(str(ozel_sonuc))
            
            # Kalan varsa ekle (19+11=22+8 gibi durumlar için)
            if ozel_kalan is not None:
                if str(ozel_kalan) not in kalan_isimler:
                    kalan_isimler[str(ozel_kalan)] = []
                kalan_isimler[str(ozel_kalan)].extend(ozel_isimler)
                kalan_sayilar.append(str(ozel_kalan))
            
            dongu_sayisi += 1
            continue
        
        # Eğer hiçbir toplama yapılamadıysa döngüden çık
        break
    
    # İsim sayıları özeti ekle
    sonuc += f"\n--- İSİM SAYILARI ---\n"
    for isim in isimler:
        isim_sayisi = isim_hesaplama(isim)
        sonuc += f"{isim} = {isim_sayisi}\n"
    
    # Final sonuç
    sonuc += f"\n--- MERKEZ SAYI ---\n"
    sonuc += f"Kalan sayılar: {', '.join(kalan_sayilar)}\n\n"
    
    # Merkez sayıyı belirle ve sadeleştir
    if len(kalan_sayilar) == 1:
        final_sayi = int(kalan_sayilar[0])
        merkez_sayi = ebced_toplama_merkez_sayi(final_sayi)
    else:
        # Eğer 19 varsa ve başka sayılar varsa, 19 hariç diğer sayıları topla
        if "19" in kalan_sayilar:
            # 19 hariç diğer sayıları topla
            final_sayi = 0
            for sayi_str in kalan_sayilar:
                if sayi_str != "19":
                    final_sayi += int(sayi_str)
            merkez_sayi = ebced_toplama_merkez_sayi(final_sayi)
        else:
            # Kalan sayıları topla
            final_sayi = 0
            for sayi_str in kalan_sayilar:
                final_sayi += int(sayi_str)
            merkez_sayi = ebced_toplama_merkez_sayi(final_sayi)
    
    # Sonuç metni oluştur - önce merkez sayının metni, sonra özel sayıların metinleri
    sonuc_metni = ""
    
    # Önce merkez sayının metnini yaz
    if merkez_sayi in merkez_sayi_aciklamalari:
        metin = merkez_sayi_aciklamalari[merkez_sayi]
        
        # Orijinal isim listesini kullan (duplicate önlemek için)
        isim_listesi = " ".join(isimler)
        metin = metin.replace("******", isim_listesi)
        sonuc_metni += metin + "\n\n"
    else:
        print(f"UYARI: merkez_sayi {merkez_sayi} dictionary'de bulunamadı!")
    
    # Sonra özel sayıların metinlerini ekle (11, 19, 22, 33)
    # Ama merkez sayı olarak kullanılan özel sayıyı tekrar yazdırma
    ozel_sayilar = ["11", "19", "22", "33"]
    for ozel_sayi in ozel_sayilar:
        if ozel_sayi in kalan_sayilar and ozel_sayi != merkez_sayi:
            # Özel sayının metnini bul (merkez sayı değilse)
            if ozel_sayi in merkez_sayi_aciklamalari:
                metin = merkez_sayi_aciklamalari[ozel_sayi]
                
                # Bu özel sayıya ait isimleri bul
                ozel_isimler = kalan_isimler.get(ozel_sayi, [])
                if ozel_isimler:
                    isim_listesi = " ".join(ozel_isimler)
                    metin = metin.replace("******", isim_listesi)
                    sonuc_metni += metin + "\n\n"
                else:
                    # Eğer özel sayıya ait isim yoksa, tüm isimleri kullan
                    tum_isimler = []
                    for isim_listesi in kalan_isimler.values():
                        tum_isimler.extend(isim_listesi)
                    if tum_isimler:
                        isim_listesi = " ".join(tum_isimler)
                        metin = metin.replace("******", isim_listesi)
                        sonuc_metni += metin + "\n\n"
                    else:
                        sonuc_metni += metin + "\n\n"
    
    # 19 metni ekle (eğer başlangıçta 19 varsa ve henüz yazdırılmadıysa)
    if on_dokuz_var and "19" not in kalan_sayilar:
        on_dokuz_metni = merkez_sayi_aciklamalari["19"]
        on_dokuz_isim_listesi = " ".join(on_dokuz_isimleri)
        on_dokuz_metni = on_dokuz_metni.replace("******", on_dokuz_isim_listesi)
        sonuc_metni += on_dokuz_metni + "\n\n"
    
    # Detay analizi ve sonuç metnini birleştir
    final_sonuc = sonuc + "\n"  + "\n" + sonuc_metni
    
    return final_sonuc.strip(), merkez_sayi